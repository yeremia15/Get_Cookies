{"version":3,"file":"config.cjs","sources":["../../src/src/config.js"],"sourcesContent":["/*!\n * Copyright (c) 2017-present Cliqz GmbH. All rights reserved.\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nimport { sizeOfBool } from './data-view';\nexport default class Config {\n    static deserialize(buffer) {\n        return new Config({\n            debug: buffer.getBool(),\n            enableCompression: buffer.getBool(),\n            enableHtmlFiltering: buffer.getBool(),\n            enableInMemoryCache: buffer.getBool(),\n            enableMutationObserver: buffer.getBool(),\n            enableOptimizations: buffer.getBool(),\n            enablePushInjectionsOnNavigationEvents: buffer.getBool(),\n            guessRequestTypeFromUrl: buffer.getBool(),\n            integrityCheck: buffer.getBool(),\n            loadCSPFilters: buffer.getBool(),\n            loadCosmeticFilters: buffer.getBool(),\n            loadExceptionFilters: buffer.getBool(),\n            loadExtendedSelectors: buffer.getBool(),\n            loadGenericCosmeticsFilters: buffer.getBool(),\n            loadNetworkFilters: buffer.getBool(),\n            loadPreprocessors: buffer.getBool(),\n        });\n    }\n    constructor({ debug = false, enableCompression = false, enableHtmlFiltering = false, enableInMemoryCache = true, enableMutationObserver = true, enableOptimizations = true, enablePushInjectionsOnNavigationEvents = true, guessRequestTypeFromUrl = false, integrityCheck = true, loadCSPFilters = true, loadCosmeticFilters = true, loadExceptionFilters = true, loadExtendedSelectors = false, loadGenericCosmeticsFilters = true, loadNetworkFilters = true, loadPreprocessors = false, } = {}) {\n        this.debug = debug;\n        this.enableCompression = enableCompression;\n        this.enableHtmlFiltering = enableHtmlFiltering;\n        this.enableInMemoryCache = enableInMemoryCache;\n        this.enableMutationObserver = enableMutationObserver;\n        this.enableOptimizations = enableOptimizations;\n        this.enablePushInjectionsOnNavigationEvents = enablePushInjectionsOnNavigationEvents;\n        this.guessRequestTypeFromUrl = guessRequestTypeFromUrl;\n        this.integrityCheck = integrityCheck;\n        this.loadCSPFilters = loadCSPFilters;\n        this.loadCosmeticFilters = loadCosmeticFilters;\n        this.loadExceptionFilters = loadExceptionFilters;\n        this.loadExtendedSelectors = loadExtendedSelectors;\n        this.loadGenericCosmeticsFilters = loadGenericCosmeticsFilters;\n        this.loadNetworkFilters = loadNetworkFilters;\n        this.loadPreprocessors = loadPreprocessors;\n    }\n    getSerializedSize() {\n        // NOTE: this should always be the number of attributes and needs to be\n        // updated when `Config` changes.\n        return 16 * sizeOfBool();\n    }\n    serialize(buffer) {\n        buffer.pushBool(this.debug);\n        buffer.pushBool(this.enableCompression);\n        buffer.pushBool(this.enableHtmlFiltering);\n        buffer.pushBool(this.enableInMemoryCache);\n        buffer.pushBool(this.enableMutationObserver);\n        buffer.pushBool(this.enableOptimizations);\n        buffer.pushBool(this.enablePushInjectionsOnNavigationEvents);\n        buffer.pushBool(this.guessRequestTypeFromUrl);\n        buffer.pushBool(this.integrityCheck);\n        buffer.pushBool(this.loadCSPFilters);\n        buffer.pushBool(this.loadCosmeticFilters);\n        buffer.pushBool(this.loadExceptionFilters);\n        buffer.pushBool(this.loadExtendedSelectors);\n        buffer.pushBool(this.loadGenericCosmeticsFilters);\n        buffer.pushBool(this.loadNetworkFilters);\n        buffer.pushBool(this.loadPreprocessors);\n    }\n}\n//# sourceMappingURL=config.js.map"],"names":["sizeOfBool"],"mappings":"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"}